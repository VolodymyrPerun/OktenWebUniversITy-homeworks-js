<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script>
        // Спробуйте зробити таксопарк,який ви робили на одній з попередніх завдань. 
        // Але тепер шоб всі машинки були замкнуті. Тобто ззовні ви не могли їх отримати. 
        //  І всі дії,які ви робили до того з машинками (збільшувати потужність і т.д.):

        // Створити обєкт автомобіля з полями:
        // Марка автомобля, потужність двигуна, власник, ціна, рік випуску.
        // Власник автомобіля теж має бути обєкт, у якого є поля
        // Імя, вік, стаж водіння.
        // Створити не менше 7 та не більше 20 машинок.
        // Для початку вкладіть всі наші створені автомобілі в масив cars. 
        // Зробили половину автопарку ремонт мотору, 
        // що збільшить потужність автомобілів на 10% (переприсвоєння змінної потужності).

        // // На відремонтовані автомобілі найняти нових водіїв (переприсвоїти змінну водій).

        // // Далі необхідно рати кожну другу машинку (цикл з кроком в 2), 
        // //та робити їй підвищення потужності двигуна на 10% та ціну на 5%

        // // Після того зробити перевірку досвіду ВСІХ наших водіїв. 
        // // Якщо досвід водія менший за 5 років, але його вік більший за 25, 
        // // то необідно відправити його на курси підвищення кваліфікації, 
        // // що збільшить йому досвід на 1 рік.

        // // Також спробуйте порахувати суму, яку потрібно потратити
        // // для покупки всіх цих авто в циклі


        //  зробити на методах, які ми вчора розглянули. 
        // Зробит метод збільшення потужності. 
        // Метод відправки водія на курси. 
        // Метод оновлення водіїв (приймаючи масив водіїв). 
        // Та змінити водія конкретній машинці.
        // Отрмати всіх водіїв. 
        // Отримати всі авто. 
        // Отрмати конкретного водія. 
        // Отримати конкретне авто.
        // Отримати ціну всіх авто.


        





        function cars() {

            let cars = [{
                    mark: 'Daewoo',
                    volume: 1.3,
                    price: 8000,
                    year: 2017,
                    owner: {
                        name: 'Victor',
                        age: 23,
                        experience: 15
                    }
                },
                {
                    mark: 'VAZ',
                    volume: 1.2,
                    price: 650,
                    year: 1979,
                    owner: {
                        name: 'Volodymyr',
                        age: 33,
                        experience: 16
                    }
                },
                {
                    mark: 'BMW',
                    volume: 2.0,
                    price: 4000,
                    year: 2002,
                    owner: {
                        name: 'Oleh',
                        age: 19,
                        experience: 2
                    }
                },
                {
                    mark: 'Chevrolet',
                    volume: 1.6,
                    price: 5000,
                    year: 2007,
                    owner: {
                        name: 'Ivan',
                        age: 45,
                        experience: 25
                    }
                },
                {
                    mark: 'Toyota',
                    volume: 3.5,
                    price: 10000,
                    year: 2006,
                    owner: {
                        name: 'Andriy',
                        age: 23,
                        experience: 3
                    }
                },
                {
                    mark: 'Tesla',
                    volume: 4.0,
                    price: 40000,
                    year: 2017,
                    owner: {
                        name: 'Semen',
                        age: 23,
                        experience: 15
                    }
                },
                {
                    mark: 'Opel',
                    volume: 2.2,
                    price: 4600,
                    year: 2003,
                    owner: {
                        name: 'Ihor',
                        age: 53,
                        experience: 35
                    }
                },
                {
                    mark: 'Mercedes',
                    volume: 3.5,
                    price: 23000,
                    year: 2013,
                    owner: {
                        name: 'Karina',
                        age: 25,
                        experience: 4
                    }
                },
                {
                    mark: ' Nissan',
                    volume: 1.3,
                    price: 6500,
                    year: 2012,
                    owner: {
                        name: 'Iryna',
                        age: 29,
                        experience: 1
                    }
                }
            ];

            let newOwners = [{
                    name: 'Lesia',
                    age: 50,
                    experience: 5
                },
                {
                    name: 'Tania',
                    age: 50,
                    experience: 2
                },
                {
                    name: 'Marik',
                    age: 33,
                    experience: 16
                },
                {
                    name: 'Shumacher',
                    age: 50,
                    experience: 37
                },
                {
                    name: 'Anna',
                    age: 27,
                    experience: 7
                },
                {
                    name: 'Nicola',
                    age: 28,
                    experience: 6
                },
                {
                    name: 'Nadia',
                    age: 33,
                    experience: 4
                },
                {
                    name: 'Makos',
                    age: 63,
                    experience: 40
                },
                {
                    name: 'Juliana',
                    age: 20,
                    experience: 1
                }
            ];

            return {
                getCars: () => {
                    return cars
                },
                newOwner: () => {
                    cars.forEach((value, index) => {
                        if (index % 2 === 0) {
                            value.owner = newOwners[index];
                        }
                    })
                },
                improveCar: () => {
                    cars.map((value, index) => {
                        if (index % 2 === 0) {
                            value.power = (+(value.power * 1.1).toFixed(2));
                            value.price = (+(value.price * 1.05).toFixed(0));
                        }
                    })
                },
                improveExp: () => {
                    cars.map(value => {

                        if (value.owner.exp < 5 && value.owner.age > 25) {
                            value.owner.exp += 1
                        }
                    })
                },
                getCarsPrice: () => {
                    return cars.reduce((previousValue, currentValue) => {
                        return previousValue + currentValue.price
                    }, 0)
                },
                getMark: () => {
                    return cars.map(value => {
                        return value.mark
                    })
                },
                getVolume: () => {
                    return cars.map(value => {
                        return value.volume
                    })
                },
                getPrice: () => {
                    return cars.map(value => {
                        return value.price
                    })
                },
                getYear: () => {
                    return cars.map(value => {
                        return value.year
                    })
                },
                getOwner: () => {
                    return {
                        getOwnerName: () => {
                            return cars.map(value => {
                                return value.owner.name
                            })
                        },
                        getOwnerAge: () => {
                            return cars.map(value => {
                                return value.owner.age
                            })
                        },
                        getOwnerExperience: () => {
                            return cars.map(value => {
                                return value.owner.experience
                            })
                        }
                    }
                }

            }

        }


        let carsOutput = cars();

        console.log(carsOutput.getMark());
        console.log(carsOutput.getVolume());
        console.log(carsOutput.getPrice());
        console.log(carsOutput.getYear());
        console.log(carsOutput.getOwner().getOwnerName());
        console.log(carsOutput.getOwner().getOwnerAge());
        console.log(carsOutput.getOwner().getOwnerExperience());
        carsOutput.newOwner();
        carsOutput.improveCar();
        carsOutput.improveExp();
        console.log(carsOutput.getCarsPrice());;
        console.log(carsOutput.getCars());
    </script>
</body>

</html>